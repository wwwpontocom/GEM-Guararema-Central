/* ============================================================
  MOBILE PORTRAIT ENHANCEMENTS (Ajuste para Celular)
  ============================================================ */
@media (max-width: 768px) and (orientation: portrait) {
@media (max-width: 768px) {
body { overflow-x: hidden; height: 100vh; display: flex; flex-direction: column; }

#main-container {
        display: block; /* Stack vertically */
        display: block; 
height: calc(100vh - var(--nav-height));
margin-top: var(--nav-height);
position: relative;
}

#tab-assistente {
display: flex;
        flex-direction: column; /* Library top, Chat bottom */
        flex-direction: column;
height: 100%;
}

    /* Keep library content scrollable above the chat */
.display-area {
flex: 1;
padding: 20px 10px;
overflow-y: auto;
        padding-bottom: 60px; /* Space for the minimized chat header */
        padding-bottom: 70px; /* Espaço para o chat minimizado */
}

    /* Fixed Chat at the very bottom */
.chat-sidebar {
width: 100%;
        height: 400px;
        height: 350px; /* Altura reduzida para caber melhor no landscape */
        max-height: 80vh; 
position: fixed;
bottom: 0;
left: 0;
@@ -156,7 +155,6 @@ h2 { margin: 0; font-size: 16px; text-transform: uppercase; }
transition: transform 0.4s ease, height 0.4s ease;
}

    /* When minimized, it only shows the header at the bottom */
.chat-sidebar.minimized {
height: 50px !important;
transform: translateY(0);
@@ -168,16 +166,11 @@ h2 { margin: 0; font-size: 16px; text-transform: uppercase; }
justify-content: space-between;
align-items: center;
padding: 0 20px;
        cursor: pointer;
    }

    .input-area {
        padding-bottom: env(safe-area-inset-bottom); /* Fix for iPhone notches */
        cursor: pointer; /* Indica que é clicável */
}

.toggle-chat-btn { display: inline-flex; }
.page { width: 95%; padding: 20px; }
.instrument-grid { grid-template-columns: repeat(2, 1fr); }
}
nav div:first-child { font-size: 14px; }
}
